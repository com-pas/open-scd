{"version":3,"file":"edit.js","sourceRoot":"","sources":["../../../../core/foundation/edit.ts"],"names":[],"mappings":"AAiCA,MAAM,UAAU,WAAW,CAAC,IAAY;IACtC,OAAO,IAAI,YAAY,KAAK,CAAC;AAC/B,CAAC;AAED,MAAM,UAAU,kBAAkB,CAAC,IAAY;IAC7C,OAAO,CACJ,IAAyB,CAAC,OAAO,KAAK,SAAS;QAC/C,IAAyB,CAAC,WAAW,KAAK,SAAS,CACrD,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,UAAU,CAAC,IAAY;IACrC,OAAO,CACJ,IAAiB,CAAC,MAAM,KAAK,SAAS,IAAK,IAAiB,CAAC,IAAI,KAAK,SAAS,CACjF,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,iBAAiB,CAAC,IAAY;IAC5C,OAAO,CACJ,IAAwB,CAAC,OAAO,KAAK,SAAS;QAC9C,IAAwB,CAAC,UAAU,KAAK,SAAS;QACjD,IAAwB,CAAC,YAAY,KAAK,SAAS,CACrD,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,UAAU,CAAC,IAAY;IACrC,OAAO,CACJ,IAAiB,CAAC,MAAM,KAAK,SAAS;QACtC,IAAiB,CAAC,IAAI,KAAK,SAAS;QACpC,IAAiB,CAAC,SAAS,KAAK,SAAS,CAC3C,CAAC;AACJ,CAAC;AAED,8DAA8D;AAC9D,MAAM,UAAU,QAAQ,CAAC,IAAS;IAChC,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE;QACrB,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;KACxC;IAED,OAAO,CACL,iBAAiB,CAAC,IAAI,CAAC;QACvB,kBAAkB,CAAC,IAAI,CAAC;QACxB,UAAU,CAAC,IAAI,CAAC;QAChB,UAAU,CAAC,IAAI,CAAC,CACjB,CAAC;AACJ,CAAC","sourcesContent":["/** Intent to `parent.insertBefore(node, reference)` */\nexport type InsertV2 = {\n  parent: Node;\n  node: Node;\n  reference: Node | null;\n};\n\n/** Intent to remove a `node` from its `ownerDocument` */\nexport type RemoveV2 = {\n  node: Node;\n};\n\n/** Intent to set the `textContent` of `element` */\nexport type SetTextContentV2 = {\n  element: Element;\n  textContent: string;\n};\n\n/** Intent to set or remove (if `null`) `attributes`(-`NS`) on `element` */\nexport type SetAttributesV2 = {\n  element: Element;\n  attributes: Partial<Record<string, string | null>>;\n  attributesNS: Partial<Record<string, Partial<Record<string, string | null>>>>;\n};\n\n/** Intent to change some XMLDocuments */\nexport type EditV2 =\n  | InsertV2\n  | SetAttributesV2\n  | SetTextContentV2\n  | RemoveV2\n  | EditV2[];\n\nexport function isComplexV2(edit: EditV2): edit is EditV2[] {\n  return edit instanceof Array;\n}\n\nexport function isSetTextContentV2(edit: EditV2): edit is SetTextContentV2 {\n  return (\n    (edit as SetTextContentV2).element !== undefined &&\n    (edit as SetTextContentV2).textContent !== undefined\n  );\n}\n\nexport function isRemoveV2(edit: EditV2): edit is RemoveV2 {\n  return (\n    (edit as InsertV2).parent === undefined && (edit as RemoveV2).node !== undefined\n  );\n}\n\nexport function isSetAttributesV2(edit: EditV2): edit is SetAttributesV2 {\n  return (\n    (edit as SetAttributesV2).element !== undefined &&\n    (edit as SetAttributesV2).attributes !== undefined &&\n    (edit as SetAttributesV2).attributesNS !== undefined\n  );\n}\n\nexport function isInsertV2(edit: EditV2): edit is InsertV2 {\n  return (\n    (edit as InsertV2).parent !== undefined &&\n    (edit as InsertV2).node !== undefined &&\n    (edit as InsertV2).reference !== undefined\n  );\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isEditV2(edit: any): edit is EditV2 {\n  if (isComplexV2(edit)) {\n    return !edit.some((e) => !isEditV2(e));\n  }\n  \n  return (\n    isSetAttributesV2(edit) ||\n    isSetTextContentV2(edit) ||\n    isInsertV2(edit) ||\n    isRemoveV2(edit)\n  );\n}\n"]}