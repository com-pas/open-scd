{"version":3,"file":"edit-event.js","sourceRoot":"","sources":["../../../../../core/foundation/deprecated/edit-event.ts"],"names":[],"mappings":"AA6CA;;GAEG;AACH,MAAM,UAAU,SAAS,CAAC,IAAU;IAClC,OAAO,IAAI,YAAY,KAAK,CAAC;AAC/B,CAAC;AAED;;GAEG;AACH,MAAM,UAAU,QAAQ,CAAC,IAAU;IACjC,OAAQ,IAAe,CAAC,MAAM,KAAK,SAAS,CAAC;AAC/C,CAAC;AAED;;GAEG;AACH,MAAM,UAAU,YAAY,CAC1B,KAAqB;IAErB,OAAO,KAAK,KAAK,IAAI,IAAI,OAAO,KAAK,KAAK,QAAQ,CAAC;AACrD,CAAC;AAED;;GAEG;AACH,MAAM,UAAU,QAAQ,CAAC,IAAU;IACjC,OAAQ,IAAe,CAAC,OAAO,KAAK,SAAS,CAAC;AAChD,CAAC;AAED;;GAEG;AACH,MAAM,UAAU,QAAQ,CAAC,IAAU;IACjC,OAAO,CACJ,IAAe,CAAC,MAAM,KAAK,SAAS,IAAK,IAAe,CAAC,IAAI,KAAK,SAAS,CAC7E,CAAC;AACJ,CAAC;AAeD;;GAEG;AACH,MAAM,UAAU,YAAY,CAC1B,IAAO,EACP,YAAuB,MAAM;IAE7B,OAAO,IAAI,WAAW,CAAkB,WAAW,EAAE;QACnD,QAAQ,EAAE,IAAI;QACd,OAAO,EAAE,IAAI;QACb,MAAM,EAAE;YACN,IAAI,EAAE,IAAI;YACV,SAAS,EAAE,SAAS;SACrB;KACF,CAAC,CAAC;AACL,CAAC","sourcesContent":["/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport type Initiator = 'user' | 'system' | 'undo' | 'redo' | string;\n\n/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport type Insert = {\n  parent: Node;\n  node: Node;\n  reference: Node | null;\n};\n\n/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport type NamespacedAttributeValue = {\n  value: string | null;\n  namespaceURI: string | null;\n};\n/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport type AttributeValue = string | null | NamespacedAttributeValue;\n/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport type Update = {\n  element: Element;\n  attributes: Partial<Record<string, AttributeValue>>;\n};\n\n/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport type Remove = {\n  node: Node;\n};\n\n/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport type Edit = Insert | Update | Remove | Edit[];\n\n/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport function isComplex(edit: Edit): edit is Edit[] {\n  return edit instanceof Array;\n}\n\n/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport function isInsert(edit: Edit): edit is Insert {\n  return (edit as Insert).parent !== undefined;\n}\n\n/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport function isNamespaced(\n  value: AttributeValue\n): value is NamespacedAttributeValue {\n  return value !== null && typeof value !== 'string';\n}\n\n/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport function isUpdate(edit: Edit): edit is Update {\n  return (edit as Update).element !== undefined;\n}\n\n/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport function isRemove(edit: Edit): edit is Remove {\n  return (\n    (edit as Insert).parent === undefined && (edit as Remove).node !== undefined\n  );\n}\n\n/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport interface EditEventDetail<E extends Edit = Edit> {\n  edit: E;\n  initiator: Initiator;\n}\n\n/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport type EditEvent = CustomEvent<EditEventDetail>;\n\n/**\n * @deprecated Use the new edit event V2 API instead.\n */\nexport function newEditEvent<E extends Edit>(\n  edit: E,\n  initiator: Initiator = 'user'\n): EditEvent {\n  return new CustomEvent<EditEventDetail>('oscd-edit', {\n    composed: true,\n    bubbles: true,\n    detail: {\n      edit: edit,\n      initiator: initiator,\n    },\n  });\n}\n\ndeclare global {\n  interface ElementEventMap {\n    ['oscd-edit']: EditEvent;\n  }\n}\n"]}