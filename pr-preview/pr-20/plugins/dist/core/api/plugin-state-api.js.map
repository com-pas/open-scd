{"version":3,"file":"plugin-state-api.js","sourceRoot":"","sources":["../../../../core/api/plugin-state-api.ts"],"names":[],"mappings":"AAIA,MAAM,OAAO,cAAc;IAIzB,YAAY,GAAW;QACrB,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;IACvB,CAAC;IAEM,QAAQ,CAAC,KAAyB;QACvC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;IAC7B,CAAC;IAEM,QAAQ;QACb,OAAO,IAAI,CAAC,cAAc,EAAE,CAAC;IAC/B,CAAC;IAEM,WAAW,CAAC,YAAkC;QACnD,MAAM,WAAW,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;QAC1C,MAAM,YAAY,GAAG;YACnB,GAAG,WAAW;YACd,GAAG,YAAY;SAChB,CAAC;QACF,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;IACpC,CAAC;IAEO,cAAc,CAAC,KAAyB;QAC9C,cAAc,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;IAC/C,CAAC;IAEO,cAAc;QACpB,OAAO,cAAc,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC;IACtD,CAAC;;AA9Bc,oBAAK,GAA0C,EAAE,CAAC","sourcesContent":["type PluginState = {\n  [key: string]: unknown\n}\n\nexport class PluginStateApi {\n  private static state: { [tag: string]: PluginState | null } = {};\n  private pluginTag: string;\n\n  constructor(tag: string) {\n    this.pluginTag = tag;\n  }\n\n  public setState(state: PluginState | null): void {\n    this.setPluginState(state);\n  }\n\n  public getState(): PluginState | null {\n    return this.getPluginState();\n  }\n\n  public updateState(partialState: Partial<PluginState>): void {\n    const pluginState = this.getPluginState();\n    const patchedState = {\n      ...pluginState,\n      ...partialState\n    };\n    this.setPluginState(patchedState);\n  }\n\n  private setPluginState(state: PluginState | null): void {\n    PluginStateApi.state[this.pluginTag] = state;\n  }\n\n  private getPluginState(): PluginState | null {\n    return PluginStateApi.state[this.pluginTag] ?? null;\n  }\n}\n"]}